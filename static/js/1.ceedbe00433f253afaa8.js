webpackJsonp([1],{"/yy9":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("4YfN"),s=i.n(a),n=(i("ArKR"),i("CaK3")),r=i("7Adc"),A=(n.a,{name:"pay",components:{Header:n.a},data:function(){var t=JSON.parse(sessionStorage.$data);return{money:t.payData.money,versions:{wx:!1,zfb:!1},isLogin:!1,orderId:t.payData.orderId,isPayOk:!1,paying:!1,goOut:!0,form:"",wxData:{timeStamp:"",package:"",signType:"",appId:"",nonceStr:"",paySign:""},currencyList:{id:"",currencyName:""}}},created:function(){this.init(),this.getCurrencyList(),this.$vux.loading.show()},beforeDestroy:function(){this.goOut=!1,this.$vux.loading.hide()},methods:{init:function(){var t=this;this.$axios({method:"get",url:"/api/order/getOrderDetail",data:{orderId:this.orderId}}).then(function(e){if(200==e.code)if(e.data&&e.data.masterId){t.$vux.loading.hide(),t.orderId=e.data.masterId;var i=JSON.parse(sessionStorage.$data);t.versions=i.versions,t.isLogin=!0}else t.goOut&&Object(r.setTimeout)(function(){t.init()},500)})},getCurrencyList:function(){var t=this;this.$axios({method:"get",url:"/api/orderPay/getCurrencyList"}).then(function(e){200==e.code&&(t.currencyList=e.data)})},payType1:function(){var t=this;if(this.paying)return this.$vux.toast.text("正在支付中"),!1;this.paying=!0,this.$axios({method:"form",url:"/api/orderPay/aliPay",data:{orderId:this.orderId}}).then(function(e){t.form=e,Object(r.setTimeout)(function(){document.forms[0].submit()}),t.paying=!1})},payType2:function(){var t=this;if(this.paying)return this.$vux.toast.text("正在支付中"),!1;this.paying=!0,this.$axios({method:"post",url:"/api/orderPay/wxPay",data:{orderId:this.orderId}}).then(function(e){200==e.code&&(t.wxData=e.data,t.wxPay()),t.paying=!1})},payType3:function(t){var e=this;if(this.paying)return this.$vux.toast.text("正在支付中"),!1;this.paying=!0,this.$vux.confirm.show({title:"确定扣除金额",content:"\n        <div class='pay-alert-title'>景红堂</div>\n        <div class='pay-alert-text1'>￥<span class='pay-alert-text2'>"+this.money+"</span></div>\n      ",onCancel:function(){e.paying=!1},onConfirm:function(){e.$axios({method:"post",url:"/api/orderPay/paymentOfOrder",data:{orderId:e.orderId,payType:t}}).then(function(t){200==t.code&&(e.$vux.toast.text("支付成功"),e.$router.push("/myoder")),e.paying=!1})}})},virtualCurrencyPayOrder:function(t){var e=this;if(this.paying)return this.$vux.toast.text("正在支付中"),!1;this.paying=!0,this.$vux.confirm.show({title:"确定用"+t.currencyName+"支付",content:"\n        <div class='pay-alert-title'>景红堂</div>\n        <div class='pay-alert-text1'>￥<span class='pay-alert-text2'>"+this.money+"</span></div>\n      ",onCancel:function(){e.paying=!1},onConfirm:function(){e.$axios({method:"post",url:"/api/orderPay/virtualCurrencyPayOrder",data:{orderId:e.orderId,currencyId:t.id}}).then(function(t){200==t.code&&(e.$vux.toast.text("支付成功"),e.$router.push("/myoder")),e.paying=!1})}})},wxPay:function(){"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",onBridgeReady,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",onBridgeReady),document.attachEvent("onWeixinJSBridgeReady",onBridgeReady)):this.onBridgeReady()},onBridgeReady:function(){WeixinJSBridge.invoke("getBrandWCPayRequest",s()({},this.wxData),function(t){"get_brand_wcpay_request:ok"==t.err_msg?(this.$vux.toast.text("支付成功"),this.$router.push("/myoder")):this.$vux.toast.text("支付失败"),this.paying=!1})}}}),o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Header",{attrs:{title:"支付方式"}}),t._v(" "),i("div",{domProps:{innerHTML:t._s(t.form)}}),t._v(" "),i("div",{staticClass:"money-text-box"},[i("span",{staticClass:"text1"},[t._v("￥")]),t._v("\n    "+t._s(t.money)+"\n  ")]),t._v(" "),i("div",{staticClass:"text2"},[t._v("景红堂")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.versions.zfb,expression:"versions.zfb"}]},[i("div",{staticClass:"list-box",on:{click:t.payType1}},[t._m(0),t._v(" "),i("div",{staticClass:"list-box-child2"},[t._v("支付宝支付")]),t._v(" "),t._m(1)]),t._v(" "),i("div",{staticClass:"scale-b-1px b-xian"})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.versions.wx,expression:"versions.wx"}]},[i("div",{staticClass:"list-box",on:{click:t.payType2}},[t._m(2),t._v(" "),i("div",{staticClass:"list-box-child2"},[t._v("微信支付")]),t._v(" "),t._m(3)]),t._v(" "),i("div",{staticClass:"scale-b-1px b-xian"})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}]},[i("div",{staticClass:"list-box",on:{click:function(e){return t.payType3(3)}}},[t._m(4),t._v(" "),i("div",{staticClass:"list-box-child2"},[t._v("钱包支付")]),t._v(" "),t._m(5)]),t._v(" "),i("div",{staticClass:"scale-b-1px b-xian"}),t._v(" "),t._l(t.currencyList,function(e,a){return i("div",{key:a},[i("div",{staticClass:"list-box",on:{click:function(i){return t.virtualCurrencyPayOrder(e)}}},[i("div",{staticClass:"list-box-child1"},[i("img",{staticClass:"img",attrs:{src:e.url,alt:""}})]),t._v(" "),i("div",{staticClass:"list-box-child2"},[t._v(t._s(e.currencyName))]),t._v(" "),t._m(6,!0)]),t._v(" "),i("div",{staticClass:"scale-b-1px b-xian"})])})],2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list-box-child1"},[e("img",{staticClass:"img",attrs:{src:i("5mLm"),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list-box-child3"},[e("img",{staticClass:"img2",attrs:{src:i("enZO"),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list-box-child1"},[e("img",{staticClass:"img",attrs:{src:i("O+Np"),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list-box-child3"},[e("img",{staticClass:"img2",attrs:{src:i("enZO"),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list-box-child1"},[e("img",{staticClass:"img",attrs:{src:i("lf3q"),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list-box-child3"},[e("img",{staticClass:"img2",attrs:{src:i("enZO"),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list-box-child3"},[e("img",{staticClass:"img2",attrs:{src:i("enZO"),alt:""}})])}]};var c=i("C7Lr")(A,o,!1,function(t){i("XEOn"),i("m5AY")},"data-v-093454c8",null);e.default=c.exports},"5mLm":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABDlBMVEVHcEwBqfEBqfAAgP8BqvIAn98BqPACqfEAp+8BqPACqPIBqfEBqPEBqfEBqfAAqvIApe8AquoBqfAAqPEApvIAquoBqfEBqfECqfEAqfEAo/EBqfABqfEAqPEAqfIAqfIBqfEBqfEAp+8CqfEAn+8BqfIAqO4AqvEAqfICqfEAqPMAqfEAqfEAqfEBqPEAqfICqfEAqPIAqPAAp/IAqPAAqvEAqPMApvQAqPgBqPAAp+8AqfEAqfMApuwAp/ABqfECqfAAqO4AqfICqfIAqvYBqfABqfIAqPIAqfICqfIAqvIAqvIAp/AAqe8AqfAAp/ABqPABqPAApvEAqPEApu4CqfECqPEAqO4AqPECqfH23jtqAAAAWXRSTlMA5+8Evwjff0C/n/vX3/NjMBjTbygMt8OXgyTb25N3c8/vYKcQq0xvX497a49H9zujh3tjIyRnFyPrIH9rKGjriyybixvjr0+LmyeHQ1B3NNPLSFtcg5NsOH7LlM0AAAGWSURBVEjH7ZZnd4IwFIYZgnWBoIh14ahW6+zee+89+P9/pIRRSQiJ9fT0k+8HTnJvniT35iYHhplpWm2VkwkTr229y2OISth4R+pakDApYhWEWE/QELOJIHnYHQe2FMLswEhyAmQVRhITIFEYMadG5lxlge3L6+VICP6Q4yREFLnxxnTRlfTHsZi1iK0KsDWcdpWCRIKRvFIQLubXCCoMciyuGsAl/gp5szxpSvjJj8963chXnfqRNMvTIyIXaa+rvdxahXpitQSOhBiM0H/Iv2eGgm0qLB1b30XSuZSZrjujNOp7V11jSYgi+wIvZpylrLXCj1JFrtl51vNl50t4JIIkuuN3pwEVQHSG9ROnwLrR5n2UjCI1/moMSHXGyVaxzYc9ldawSyHnETkQB38EJwKDpBTmvlGqDdTeI7Cc/UzA4iG7Wm7Gfc3g/C/lygIeMQflod0R7q45pEC53QB06MX9HIs9YR9bbnkTRnSTrhaM7NEJFkkCr1IRGQ1mn6UQnWDOlCZxVzL2OAsH0TC1hNm/xP/qG1+dOTSJ7dJqAAAAAElFTkSuQmCC"},"O+Np":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABCFBMVEVHcEwAvwAIuwYIugYArwAIuwYJuwcIuwYAvwAIuwYAtQAAqgAHuwYIuwYJuwYJuwUIuwYJuwcJuwYHvQAJugYAtgAIugcIvAYHuQMJuwYIuwcJugYHuwUIuwYIugYEugQHugYHuwUIuwYHugUHuAQGuwYAvAAEuwQIugcFugUIvAUGuQYAswAIvAcHvAUIuwYGuQAIvAUIvQAHuAAIuwYHugUIugQJugcIugcHvAUIugYIuwUHvgcIugQIuwcIvAYGuQYIuQUIuwcFuwUIuwcGuQYJuwUGvAYIugYIvAYHuwUIvAQHuQcHuwcIuwcIugUJvAYGuwYFugUAvAAGuQYIugYJvAQJuwekmxm9AAAAV3RSTlMACLfXEPPn+wT3GAyLh++Tf+uvI3cc459Mz8PPj4OnO6tse29ITxc83zBjUBSbb9coXx8ky2hD49tn25cnP+ejLGOXOL9Yj1fTp3BETJO7YFdTNBNU33MHTKa6AAABlUlEQVRIx+2V13aCQBCGkSKIqGgEjBVb1NgT03vvvez7v0lARAbZXU7uknP8rzwz+y3O7j+zDLPUf9HKWeqyLSCkcxmlGQ9fv5blEJTI3kToQDGGAorWKVBdQFhxFQIgs4goFV81hygyJcw32ogqM0BEVqmAUNwMICka8PXNW0s+/MSpSAbyn3YdlUnBj2RI68W7dzu/UbZ+v0FCI3wknZDtdLw0vWEWIgN3z/shAIZbzrWPo7Msj/lfMTk+Pwe24eQqk/keXYDsu8ESw+TsPWMHIyczLcJVDSBzMyYts/f6+WzPifMJn02vAeJFByAqrUf9p2GA5LHndM9LR4XFA0wABLhl7LrUDJ55FSDnoDdwRcx0AZAuiDcxRcwuFjZAJOklbg+3C3gvFH0eU1G4RL//+Z1wRFnol1wosRsYaaUQQugEm9+gEy3ciFEoRLqFH2QvxG7Oa6RpWcYDyT2JOGCxg0mv8eSRLE+3PGHBZNb7DYk291+tG36ytpQ6V1nVUNRqTgt7W1LoefTL5+vhcfmE/xH9AFygKTRvXgYVAAAAAElFTkSuQmCC"},XEOn:function(t,e){},enZO:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAxlBMVEX///83Nzfz8/NRUVE0NDTb29s1NTUzMzP+/v6wsLBaWlqhoaFYWFjp6emRkZGioqKMjIynp6eWlpasrKyoqKibm5uUlJTNzc22trb9/f1SUlKzs7OPj4++vr69vb2JiYmDg4OkpKR+fn42NjbGxsZ8fHz7+/s4ODjHx8dhYWHCwsLExMQ7OztpaWnDw8O8vLzS0tL29vb4+PhHR0dAQEBISEjPz89jY2Pl5eU6Ojre3t7X19fm5ubt7e1vb29DQ0Pu7u4+Pj7Daq/nAAAAjklEQVQoz83TRQ7DAAxE0fBPUmamlJmZ73+pnsBeVvH2aSTLGhtGDKbSULnOcKRwy+S1U3xw5WwpfvoSPhW/v7Evit+O7F3FHzaHjeKfkMVEcWuKuVZ8u8SbKT6HnqyrMVFN1Hafri9q1aMja+DQlLUIZXmrBJRkzUNGRD8LOTmbhoJyrKQTaFVMuX9/jh9ITQlRKb/ylgAAAABJRU5ErkJggg=="},lf3q:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAA7VBMVEVHcEzjxo7/qlXcv4zcv43kyZTewI7ewI7ewI7fwY/ev43fv4rewI3fv4/ev4/ev43/v4DewI7ewI7dv47ev43ewI7dv43ewI7dv4zev47fwI7ewI7ewIzewI3jxo7dwI7gwIvdwI7dwI3hw5bavI7fwI7gwI/dvo7du4jewI7ewI7Zv4zewI7ewI/ewI3Uv4Ddv4zmzJnewI7ewY3ewI7bv4nXv4fVuI7dwI7bvozdv47cv47evJDgwo/gwIzewI7cuYvewI7fv4zewI/dv43MzJnfv4Ddv43ev43dwIzbv43dwo3ewY7gwYvewI6MSbaeAAAATnRSTlMACQNQYBP+379/9BjTEGR7BPapeLfXiPhv2NbjXekSjjm2chEi7ElaD9m5FOmNowxoCuiLzxwgEvNH1FgXGUnnFu0ofXAFCNyoWThTxCG8FfMrAAAA00lEQVRIx+3WxwoCMRCA4ejqWtbee++9997rvP/juAjiLqI7I4IH/Q+5hI9AMocw9u+zxVzGQIgCUg4eAPgMGuSiXriWV+PAejWHWzWUOG7h3rSuDA4nkLVUAucdLxdgnL0Wm73mocVHnoyL65UqZGXCAph8UhJEkbSUAK4knWh/jpTKhnsqDBl0n83LU9IXNwUaEZjZBBUSGbGhuBYpZMw6PWiRTpkw1uaqJGIyk28MGk3qu/z6JH+BRCQkjBJ2m4RYUcQjm5iEW6eU36n+fzfe6gJr3DrzbPdi0wAAAABJRU5ErkJggg=="},m5AY:function(t,e){}});